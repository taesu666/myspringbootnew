<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper-addrbook">
	<select id="getDBList"
		resultType="lx.edu.springboot.vo.AddrBookVO">
		select AB_ID abId
		,AB_NAME abName
		,ab_email abEmail
		,ab_comdept abComdept
		,ab_birth abBirth
		,ab_tel abTel
		,ab_memo abMemo
		from addrbook
	</select>

	<select id="selectDBList"
		resultType="lx.edu.springboot.vo.AddrBookVO">
		select AB_ID abId
		,AB_NAME abName
		,ab_email abEmail
		,ab_comdept abComdept
		,ab_birth abBirth
		,ab_tel abTel
		,ab_memo abMemo
		from addrbook
		where ab_id = #{abId};
	</select>

	<!-- public boolean insertDB(AddrBookVO ab) throws Exception { -->
	<insert id="insertDB"
		parameterType="lx.edu.springboot.vo.AddrBookVO">
		insert into addrbook(ab_name, ab_email, ab_comdept,
		ab_birth, ab_tel, ab_memo)
		values(#{abName}, #{abEmail}, #{abComdept},
		#{abBirth}, #{abTel}, #{abMemo});
	</insert>

	<update id="updateDB" parameterType="lx.edu.springboot.vo.AddrBookVO">
		update addrbook
		<trim prefix="SET" suffixOverrides=", ">
			<if test="abName != null"> ab_name = #{abName}, </if>
			<if test=" abEmail != null"> ab_email = #{abEmail}, </if>
			<if test=" abTel != null"> ab_tel = #{abTel}, </if>
			<if test=" abComdept != null"> ab_comdept = #{abComdept}, </if>
			<if test=" abBirth != null"> ab_birth = #{abBirth},</if>
			<if test=" abMemo != null"> ab_memo = #{abMemo}, </if>
			<if test=" abComdept != null"> ab_comdept = #{abComdept} </if>
		</trim>
		where ab_id = #{abId}

	</update>

<!-- 	<update id="updateDB"
		parameterType="lx.edu.springboot.vo.AddrBookVO">
		update addrbook
		set ab_name = #{abName},
		ab_email =
		#{abEmail},
		ab_tel = #{abTel},
		ab_birth = #{abBirth},
		ab_comdept =
		#{abComdept},
		ab_memo = #{abMemo}
		where ab_id = #{abId}
	</update> -->

	<delete id="deleteDB" parameterType="int">
		delete from addrbook where
		ab_id =(#{abId});
	</delete>
</mapper>